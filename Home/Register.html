<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">

    <title>Online Applications Portal - Register</title>

    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/style.css" rel="stylesheet">
    <link href="../assets/css/inputShowPwd.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        #password-criteria p {
            margin: 0;
            font-size: 0.9em;
            color: red;
        }

        #password-criteria p.valid {
            color: green;
        }

        #password-criteria p.invalid {
            color: red;
        }
    </style>
   
</head>

<body class="sticky-header">
    <section class="bg-login">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-sm-12">
                    <div class="wrapper-page">
                        <div class="account-pages">
                            <div class="card m-b-30 mt-4">
                                <div class="card-body row">

                                    <div class="col-lg-6 col-sm-12 ">

                                        <img src="img1.png" class="layout-img" alt="Refushe Kenya">
                                    </div>
                                    <div class="col-lg-6 col-sm-12">
                                        
                                        <div class="card-title text-center">
                                            <img src="logo.png" width="128px" alt="" class="">
                                            <h5 class="mt-3 client-text"><b>Register</b></h5>
                                        </div>
                                        <form method="post" class="form-horizontal form-material" action="../Backend/Register.php">
                                            <input type="hidden" value="Applicant" data-val="true" data-val-required="The Role field is required." id="Role" name="Role" />
                                            
                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <input class="form-control form-control-line" type="text" placeholder="Surname" required="required" id="SurName" name="SurName" pattern="[A-Za-z ]+" title="Only letters and spaces are allowed" value="">
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="SurName" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <input class="form-control form-control-line" type="text" placeholder="Other names" required="required" id="OtherNames" name="OtherNames" pattern="[A-Za-z ]+" title="Only letters and spaces are allowed" value="">
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="OtherNames" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <input class="form-control form-control-line" type="email" placeholder="Email address" required="required" data-val="true" data-val-email="The Email Address field is not a valid e-mail address." data-val-required="The Email Address field is required." id="Email" name="Email" value="">
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="Email" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="form-group ">
                                                <div class="col-lg-12">
                                                    <select class="form-control form-control-line iddocumentSelect" required="required" id="IdDocumentName" name="IdDocumentName">
                                                        <option value="" disabled selected>Select Identification document</option>
                                                        <option value="Birth Certificate">Birth Certificate</option>
                                                        <option value="National Id">National Id</option>
                                                        <option value="Alien Card">Alien Card</option>
                                                    </select>
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="IdDocumentName" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            <div class="form-group ">
                                                <div class="col-lg-12">
                                                    <input required class="form-control form-control-line iddocumentSelect" type="text" placeholder="Identification document number" id="IdDocumentNumber" name="IdDocumentNumber" value="">
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="IdDocumentNumber" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <div class="input-group">
                                                        <input class="form-control form-control-line" id="password" type="password" placeholder="Password" required="required" data-val="true" data-val-length="The Create Password must be at least 8 and at max 20 characters long." data-val-length-max="20" data-val-length-min="8" data-val-required="The Create Password field is required." name="Password">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" id="togglePassword">
                                                                <i class="fa fa-eye"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="Password" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>
                                            
                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <div class="input-group">
                                                        <input class="form-control form-control-line" id="ConfirmPassword" type="password" placeholder="Confirm Password" required="required" data-val="true" data-val-equalto="The password and confirmation password do not match." data-val-equalto-other="*.Password" name="ConfirmPassword">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" id="toggleConfirmPassword">
                                                                <i class="fa fa-eye"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="col-lg-12">
                                                    <select class="form-control form-control-line" required="required" id="UserRole" name="UserRole">
                                                        <option value="" disabled selected>Select Your Role</option>
                                                        <option value="admin">Admin</option>
                                                        <option value="user">User</option>
                                                    </select>
                                                    <span class="mt-1 field-valid field-validation-valid" data-valmsg-for="UserRole" data-valmsg-replace="true"></span>
                                                </div>
                                            </div>

                                            <div class="form-group ">
                                                <div class="col-lg-12 mt-4">
                                                    <button class="btn btn-success btn-block btn-rounded" type="submit">Sign Up</button>
                                                </div>
                                            </div>
                                            <input name="__RequestVerificationToken" type="hidden" value="CfDJ8CDAy67nCthLtdW4kvview0FEmym0cI7iiIYV1T8nUzhvtbI9QqHAarCNJx0hwnI7thuGb_EIDFUUAPVE3bvk5kV21ZXNcFXsEWb8P7LHge8XMrofPZblGFAP48IBECnwgrjreWnrRjYxSigMdUFAIc" />
                                            <input name="IsKUCCPS" type="hidden" value="false">
                                        </form>
                                        <div style="text-align:center;">
                                            <span>Already have an account?</span>
                                        </div>

                                        <div class="form-group">
                                            <div class="col-sm-12 mt-4 text-center">
                                                <a href="Login.html"><i class=""></i> I have an account</a>
                                            </div>
                                        </div>

                                        <div id="password-criteria">
                                            <p id="letter" class="invalid">At least one letter</p>
                                            <p id="length" class="invalid">At least eight characters</p>
                                            <p id="number" class="invalid">At least one number</p>
                                            <p id="match" class="invalid">Passwords match</p>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        const passwordInput = document.getElementById("password");
        const confirmPasswordInput = document.getElementById("ConfirmPassword");

        const togglePassword = document.getElementById("togglePassword");
        const toggleConfirmPassword = document.getElementById("toggleConfirmPassword");

        const letter = document.getElementById("letter");
        const length = document.getElementById("length");
        const number = document.getElementById("number");
        const match = document.getElementById("match");

        const submitButton = document.querySelector(".btn-success");

        // Function to validate password criteria
        function validatePassword() {
            const password = passwordInput.value;
            const confirmPassword = confirmPasswordInput.value;

            // Check for at least one letter
            if (/[a-z]/i.test(password)) {
                letter.classList.remove("invalid");
                letter.classList.add("valid");
            } else {
                letter.classList.remove("valid");
                letter.classList.add("invalid");
            }

            // Check for at least eight characters
            if (password.length >= 8) {
                length.classList.remove("invalid");
                length.classList.add("valid");
            } else {
                length.classList.remove("valid");
                length.classList.add("invalid");
            }

            // Check for at least one number
            if (/[0-9]/.test(password)) {
                number.classList.remove("invalid");
                number.classList.add("valid");
            } else {
                number.classList.remove("valid");
                number.classList.add("invalid");
            }

            // Check if passwords match
            if (password === confirmPassword && password !== "") {
                match.classList.remove("invalid");
                match.classList.add("valid");
            } else {
                match.classList.remove("valid");
                match.classList.add("invalid");
            }

            // Enable or disable the submit button based on the validation
            if (letter.classList.contains("valid") &&
                length.classList.contains("valid") &&
                number.classList.contains("valid") &&
                match.classList.contains("valid")) {
                submitButton.disabled = false;
            } else {
                submitButton.disabled = true;
            }
        }

        // Function to toggle password visibility
        function togglePasswordVisibility(input, icon) {
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }

        // Add event listeners
        passwordInput.addEventListener("input", validatePassword);
        confirmPasswordInput.addEventListener("input", validatePassword);

        togglePassword.addEventListener("click", () => {
            togglePasswordVisibility(passwordInput, togglePassword.querySelector("i"));
        });

        toggleConfirmPassword.addEventListener("click", () => {
            togglePasswordVisibility(confirmPasswordInput, toggleConfirmPassword.querySelector("i"));
        });

        // Initialize the button state
        validatePassword();
    </script>

</body>
</html>
